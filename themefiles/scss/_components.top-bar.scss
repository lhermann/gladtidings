/*------------------------------------*\
    #TOP-BAR
\*------------------------------------*/

/*
 * Settings
 */
$top-bar-height:		52px;
$top-bar-height-rem:	px-to-rem($top-bar-height);
$top-bar-avatar-size:	36px;

/*
 * Helper Silent Extensions
 */
%top-bar-location-setup {
	position: relative;
	z-index: 2;
	display: inline-block;
	float: left;
	list-style: none;
	padding-left: 0;
}
// %vertical-padding-reset {
// 	padding-left: 0;
// 	padding-right: 0;
// }

/*
 * Standard Definitions
 * [1] optically vertically center logo and text (middle doesn't do it just right)
 */
.top-bar {
	position: relative;
	z-index: 99;

	@include rem( "height", $top-bar-height );
	background-color: #fff;

	&__left {
		@extend %top-bar-location-setup;
	}

	&__center {
		@extend %top-bar-location-setup;
		z-index: 1;
		@include media-query( palm ) {
			position: absolute;
			left: 0;
			width: 100%;
			text-align: center;
			> li {
				float: none;
			}
		}
	}

	&__right {
		@extend %top-bar-location-setup;
		float: right;
	}

	&__item {
		float: left; // better than inline-block; removes spaces
		@include rem( "height", $top-bar-height );
		padding: 0 0.4em; // horizontal padding

		&--hover:hover {
			background-color: $color-hover-bg;
			> a > img {
				box-shadow: 0 0 3px $color-suppl;
			}
		}

		&--button {
			padding-top: halve($top-bar-height) - ($base-font-size*1.125); // fallback
			padding-top: calc( (#{$top-bar-height-rem} - 2.25em) / 2 );
		}

		&--link {
			padding: 0;
			> a {
				display: block;
				padding: halve($top-bar-height) - ($base-font-size*0.75) halve($base-spacing-unit); // fallback
				padding: calc( (#{$top-bar-height-rem} - 1.5em) / 2 ) halve($base-spacing-unit);
			}
		}

		&--avatar {
			@extend .top-bar__item--link;
			> a {
				@include rem( "padding-top", ($top-bar-height - $top-bar-avatar-size)/2 );
				@include rem( "padding-bottom", ($top-bar-height - $top-bar-avatar-size)/2 );
			}
			.avatar {
				height: px-to-rem($top-bar-avatar-size);
				width: px-to-rem($top-bar-avatar-size);
				@include rem( "vertical-align", ( -$base-font-size * 3 ) / 4 /* [1] */ );
				border-radius: $base-border-radius;
			}

		}
	}

	a {
		border-bottom-width: 0;
	}

}

// mapping out the equator
// .top-bar:after {
// 	content: "";
// 	display: block;
// 	position: absolute;
// 	left: 0;
// 	top: 50%;
// 	width: 100%;
// 	height: 1px;
// 	background-color: red;
// }

/*
 * the username and user avatar
 * [1] avoid baseline space below image
 */
// .top-bar__item--avatar {

// 	.tb__avatar__link {
// 		display: inline-block; /* [1] */
// 		line-height: 0; /* [1] */

// 		// border-bottom: none;
// 		// padding: halve($top-bar-height - $top-bar-avatar-size) 0;

// 		@extend %vertical-padding-reset;

// 		&:hover > .avatar {
// 			box-shadow: 0 0 3px $color-suppl;
// 		}
// 	}

// 	.tb__avatar__name {
// 		line-height: $top-bar-avatar-size;
// 		vertical-align: bottom;

// 		@include media-query( palm ) {
// 			display: none;
// 		}
// 	}

// 	.avatar {
// 		border-radius: $base-border-radius;
// 	}

// 	&:hover, &.flyoutActive {
// 		background-color: $color-hover-bg;
// 	}
// }

/**
 * The user menu
 * Mobile users will be presented with the flyout
 * Desktop users will see a dropdown
 */

/* Mobile */
.top-bar__user-menu {
	display: none;
}

/* Desktop */
@include media-query(desk) {
	.top-bar__user-menu {
		position: absolute;
		z-index: 999;
		right: halve($base-spacing-unit);

		display: none;
		padding: $base-spacing-unit;

		background-color: $color-hover-bg;
		box-shadow: 3px 3px 3px 0 rgba(0, 0, 0, 0.15);

		.top-bar__item--avatar:hover & {
			display: block;
		}

	}
}


// /* any item that is a simple link */
// .top-bar__item--link > a {
// 		@extend %vertical-padding-reset;
// }

// /* the menu icon
// 	only shows up for lap-and-up */
// .top-bar__item--button {
// 	.btn {
// 		font-weight: 600;
// 		line-height: 1.2;

// 		border-width: 1px;
// 	}
// }

// #menu-button,
// #flyout-button {
// 	// &:hover {
// 	// 	&:after {
// 	// 		box-shadow: 0 0 0 1px white, 0 7px 0 1px white, 0 14px 0 1px white;
// 	// 	}
// 	// }

// 	&:after {
// 		// content: "\f169";
// 		// font-family: "foundation-icons";
// 		content: "";
// 		display: inline-block;
// 		box-shadow: 0 0 0 1px $inuit-btn-color, 0 7px 0 1px $inuit-btn-color, 0 14px 0 1px $inuit-btn-color;
// 		width: $base-font-size;
// 		margin: 0 0 0.75em 0.6rem;
// 	}
// }
